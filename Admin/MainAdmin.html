<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <title>Trang chủ quản trị</title>
    <!-- Custom CSS -->
    <link href="../assets/extra-libs/c3/c3.min.css" rel="stylesheet">
    <link href="../assets/libs/chartist/dist/chartist.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="../assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="../assets/vendor/axios.min.js"></script>
    <script src="../assets/services/axios.js"></script>
    <script src="../assets/services/MainAdminService.js"></script>
    <script src="../assets/services/notificationService.js"></script>
    <!-- WebSocket libraries -->
    <script src="../assets/vendor/sockjs.min.js"></script>
    <script src="../assets/vendor/stomp.min.js"></script>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
    <!-- Custom Main Style -->
    <link href="../assets/css/main.css" rel="stylesheet">
    <!-- Add other CSS files as needed -->
    <!-- Dialog CSS File -->
    <link rel="stylesheet" href="../assets/css/dialog.css" />
    <link rel="stylesheet" href="../assets/css/notifications.css" />
    <link rel="stylesheet" href="../assets/css/chat.css" />
</head>

<body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper" data-theme="light" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
        data-sidebar-position="fixed" data-header-position="fixed" data-boxed-layout="full">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar" data-navbarbg="skin6">
            <nav class="navbar top-navbar navbar-expand-md">
                <div class="navbar-header" data-logobg="skin6">
                    <!-- This is for the sidebar toggle which is visible on mobile only -->
                    <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)"><i
                            class="ti-menu ti-close"></i></a>
                    <!-- ============================================================== -->
                    <!-- Logo -->
                    <!-- ============================================================== -->
                    <div class="navbar-brand" style="display: flex; justify-content: center;">
                        <!-- Logo icon -->
                        <img src="../assets/img/logo-benh-vien.jpg" alt="homepage" class="dark-logo" width="80px"/>
                    </div>
                    <!-- ============================================================== -->
                    <!-- End Logo -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Toggle which is visible on mobile only -->
                    <!-- ============================================================== -->
                    <a class="topbartoggler d-block d-md-none waves-effect waves-light" href="javascript:void(0)"
                        data-toggle="collapse" data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><i
                            class="ti-more"></i></a>
                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse collapse" id="navbarSupportedContent">
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav float-left mr-auto ml-3 pl-1">
                       
                    </ul>
                    <!-- ============================================================== -->
                    <!-- Right side toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav float-right">
                       
                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="javascript:void(0)" data-bs-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <img src="../assets/img/users/profile-pic.jpg" alt="user" class="rounded-circle"
                                    width="40" style="width: 40px; aspect-ratio: 1 / 1; object-fit: cover;">

                                <script>
                                    $(document).ready(function () {
                                        // Lấy tên người dùng từ localStorage
                                        const loggedInUsername = localStorage.getItem('userName');

                                        // Kiểm tra nếu có tên người dùng và cập nhật hiển thị
                                        if (loggedInUsername) {
                                            $('#displayUser').text(loggedInUsername); // Cập nhật phần tử #displayUser
                                        }
                                    });
                                </script>
                                <span class="ml-2 d-none d-lg-inline-block"><span>Hello,</span> <span class="text-dark"
                                        id="displayUser">Admin</span></span>
                            </a>
                            <!-- <div class="dropdown-menu dropdown-menu-end user-dd animated flipInY">
                                <a class="dropdown-item my-2" href="javascript:void(0)"><i data-feather="user"
                                        class="svg-icon mr-2 ml-1"></i>
                                    My Profile</a>
                                <a class="dropdown-item my-2" href="javascript:void(0)"><i data-feather="credit-card"
                                        class="svg-icon mr-2 ml-1"></i>
                                    My Balance</a>
                                <a class="dropdown-item my-2" href="javascript:void(0)"><i data-feather="mail"
                                        class="svg-icon mr-2 ml-1"></i>
                                    Inbox</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="javascript:void(0)"><i data-feather="settings"
                                        class="svg-icon mr-2 ml-1"></i>
                                    Account Setting</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="javascript:void(0)"><i data-feather="power"
                                        class="svg-icon mr-2 ml-1"></i>
                                    Logout</a>
                                <div class="dropdown-divider"></div>
                                <div class="pl-4 p-3"><a href="javascript:void(0)" class="btn btn-sm btn-info">View
                                        Profile</a></div>
                            </div> -->
                        </li>
                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                    </ul>
                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar" data-sidebarbg="skin6">
            <!-- Sidebar scroll-->
            <div class="scroll-sidebar" data-sidebarbg="skin6">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <li class="sidebar-item selected">
                            <a class="sidebar-link active" href="MainAdmin.html" aria-expanded="false"><i data-feather="home"
                                    class="feather-icon"></i><span class="hide-menu">Trang chủ</span></a>
                        </li>
                        <li class="list-divider"></li>
                        <li class="nav-small-cap">
                            <span class="hide-menu">Quản lý</span>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link" href="QLBenhNhan.html" aria-expanded="false"><i data-feather="user"
                                    class="feather-icon"></i><span class="hide-menu">Bệnh nhân</span></a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLBacSi.html" aria-expanded="false"><i
                                    data-feather="users" class="feather-icon"></i><span class="hide-menu">Bác
                                    sĩ</span></a>
                        </li>

                        <!-- <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLThuocVatTu.html" aria-expanded="false"><i
                                    data-feather="database" class="feather-icon"></i><span class="hide-menu">Kho thuốc -
                                    Vật tư</span></a>
                        </li> -->

                        <!-- <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLKhamBenh.html" aria-expanded="false"><i
                                    data-feather="activity" class="feather-icon"></i><span class="hide-menu">Khám chữa
                                    bệnh</span></a>
                        </li> -->

                        <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLLichKham.html" aria-expanded="false"><i
                                    data-feather="calendar" class="feather-icon"></i><span class="hide-menu">Lịch
                                    khám</span></a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLDichVu.html" aria-expanded="false"><i
                                    data-feather="briefcase" class="feather-icon"></i><span class="hide-menu">Dịch
                                    vụ</span></a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLKhoa.html" aria-expanded="false"><i
                                    data-feather="layers" class="feather-icon"></i><span class="hide-menu">Khoa</span></a>
                        </li>
                        <!-- <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLTaiChinh.html" aria-expanded="false"><i
                                    data-feather="dollar-sign" class="feather-icon"></i><span class="hide-menu">Tài chính</span></a>
                        </li> -->

                        <!-- <li class="list-divider"></li> -->
                        <!-- <li class="nav-small-cap">
                            <span class="hide-menu">Khách hàng</span>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="DanhGia.html" aria-expanded="false"><i
                                    data-feather="calendar" class="feather-icon"></i><span class="hide-menu">Đánh giá -
                                    Phản hồi</span></a>
                        </li> -->

                        <li class="list-divider"></li>
                        <li class="nav-small-cap">
                            <span class="hide-menu">Người dùng</span>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="QLTaiKhoan.html" aria-expanded="false"><i
                                    data-feather="edit-3" class="feather-icon"></i><span class="hide-menu">Quản lý tài
                                    khoản</span></a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link sidebar-link" href="../login.html"
                                aria-expanded="false"><i data-feather="log-out" class="feather-icon"></i><span
                                    class="hide-menu">Logout</span></a>
                        </li>
                    </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <div class="page-breadcrumb">
                <div class="row">
                    <div class="col-7 align-self-center">
                        <h3 class="page-title text-truncate text-dark font-weight-medium mb-1">Xin chào <span class="text-primary" id="greetingAdmin">Admin</span>!</h3>
                        <div class="d-flex align-items-center">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb m-0 p-0">
                                    <li class="breadcrumb-item"><a href="index.html">Dashboard</a>
                                    </li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                    <div class="col-5 align-self-center">
                        <div class="customize-input float-end">
                            <h5 class="text-muted" id="currentDate"></h5>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- *************************************************************** -->
                <!-- Start First Cards -->
                <!-- *************************************************************** -->
                <div class="card-group">
                    <div class="card border-right">
                        <div class="card-body">
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <div class="d-inline-flex align-items-center">
                                        <h2 id="count_patient" class="text-dark mb-1 font-weight-medium">0</h2>
                                        <span class="badge bg-primary font-12 text-white font-weight-medium badge-pill ms-2 d-lg-block d-md-none" id="patientGrowth">0%</span>
                                    </div>
                                    <h6 class="text-muted font-weight-normal mb-0 w-100 text-truncate">Bệnh nhân</h6>
                                </div>
                                <div class="ms-auto mt-md-3 mt-lg-0">
                                    <span class="opacity-7 text-muted"><i data-feather="user-plus"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card border-right">
                        <div class="card-body">
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <h2 id="count_doctor" class="text-dark mb-1 w-100 text-truncate font-weight-medium">0</h2>
                                    <h6 class="text-muted font-weight-normal mb-0 w-100 text-truncate">Bác sĩ
                                    </h6>
                                </div>
                                <div class="ms-auto mt-md-3 mt-lg-0">
                                    <span class="opacity-7 text-muted"><i data-feather="users"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card border-right">
                        <div class="card-body">
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <div class="d-inline-flex align-items-center">
                                        <h2 id="count_appointment" class="text-dark mb-1 font-weight-medium">0</h2>
                                        <span class="badge bg-danger font-12 text-white font-weight-medium badge-pill ms-2 d-md-none d-lg-block" id="appointmentGrowth">0%</span>
                                    </div>
                                    <h6 class="text-muted font-weight-normal mb-0 w-100 text-truncate">Lịch khám</h6>
                                </div>
                                <div class="ms-auto mt-md-3 mt-lg-0">
                                    <span class="opacity-7 text-muted"><i data-feather="calendar"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex d-lg-flex d-md-block align-items-center">
                                <div>
                                    <h2 id="count_service" class="text-dark mb-1 font-weight-medium">0</h2>
                                    <h6 class="text-muted font-weight-normal mb-0 w-100 text-truncate">Dịch vụ</h6>
                                </div>
                                <div class="ms-auto mt-md-3 mt-lg-0">
                                    <span class="opacity-7 text-muted"><i data-feather="briefcase"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- *************************************************************** -->
                <!-- End First Cards -->
                <!-- *************************************************************** -->
                <!-- *************************************************************** -->
                <!-- Start Sales Charts Section -->
                <!-- *************************************************************** -->
                <div class="row">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Thống kê lịch khám theo tháng</h4>
                                <div class="net-income mt-4 position-relative" style="height:340px;">
                                    <div id="appointments-chart"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Phân bố bệnh nhân theo giới tính</h4>
                                <div id="patient-gender-chart" style="height:340px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Doctor & Patient Summary -->
                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4">
                                    <h4 class="card-title">Bác sĩ nổi bật</h4>
                                    <div class="ms-auto">
                                        <div class="dropdown">
                                            <a href="QLBacSi.html" class="btn btn-primary">Xem tất cả</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table class="table no-wrap v-middle mb-0">
                                        <thead>
                                            <tr class="border-0">
                                                <th class="border-0 font-weight-medium">Bác sĩ</th>
                                                <th class="border-0 font-weight-medium">Khoa</th>
                                                <th class="border-0 font-weight-medium">Bệnh nhân</th>
                                            </tr>
                                        </thead>
                                        <tbody id="top-doctors">
                                            <tr>
                                                <td colspan="3" class="text-center">Đang tải dữ liệu...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-4">
                                    <h4 class="card-title">Lịch khám gần đây</h4>
                                    <div class="ms-auto">
                                        <div class="dropdown">
                                            <a href="QLLichKham.html" class="btn btn-primary">Xem tất cả</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="table-responsive">
                                    <table class="table no-wrap v-middle mb-0">
                                        <thead>
                                            <tr class="border-0">
                                                <th class="border-0 font-weight-medium">Bệnh nhân</th>
                                                <th class="border-0 font-weight-medium">Bác sĩ</th>
                                                <th class="border-0 font-weight-medium">Ngày khám</th>
                                                <th class="border-0 font-weight-medium">Trạng thái</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recent-appointments">
                                            <tr>
                                                <td colspan="4" class="text-center">Đang tải dữ liệu...</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer text-center text-muted">
                Designed and Developed by <b class="text-primary">Chung</b>
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->

    <!-- Error popup -->
    <div class="m-popup-block" id="error-popup" style="visibility: hidden;">
        <div class="m-popup-header">
            <div class="m-popup-close">
                <i class="ti-close" style="color: #97a1c3;"></i>
            </div>
        </div>
        <div class="m-popup-img-error">
            <svg width="60" height="55" viewBox="0 0 60 55" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M3.33335 55H56.6667C59.3 55 61 52.95 61 50.8C61 50.05 60.7667 49.3 60.3 48.65L33.6334 7.15C32.4667 5.5 30.3334 5.5 29.1667 7.15L2.50005 48.65C2.03338 49.3 1.80005 50.05 1.80005 50.8C1.80005 52.95 3.50002 55 6.13335 55H3.33335ZM30.0001 45.65C27.9334 45.65 26.4 44.55 26.4 42.35C26.4 40.15 28.0667 39.05 30.0001 39.05C31.9334 39.05 33.6 40.15 33.6 42.35C33.6 44.55 32.0667 45.65 30.0001 45.65ZM26.4 22.85C26.4 20.65 28.0667 19.55 30.0001 19.55C31.9334 19.55 33.6 20.65 33.6 22.85V33.55C33.6 35.75 31.9334 36.85 30.0001 36.85C28.0667 36.85 26.4 35.75 26.4 33.55V22.85Z"
                    fill="#DA4453" />
            </svg>
        </div>
        <div class="m-popup-text-error">
            <span style="color: #000;font-family: Roboto;font-size: 18px;font-weight: 700;line-height: 140%;">Đã xảy ra lỗi!</span>
        </div>
    </div>

    <script src="../assets/libs/popper.js/dist/umd/popper.min.js"></script>
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css">
    <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- apps -->
    <script src="../assets/js/app-style-switcher.js"></script>
    <script src="../assets/js/feather.min.js"></script>
    <script src="../assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
    <script src="../assets/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="../assets/js/custom.min.js"></script>
    <!--This page JavaScript -->
    <script src="../assets/extra-libs/c3/d3.min.js"></script>
    <script src="../assets/extra-libs/c3/c3.min.js"></script>
    <script src="../assets/libs/chartist/dist/chartist.min.js"></script>
    <!-- Notification system -->
    <!-- <script src="../assets/js/notify.js"></script> -->
    <script src="../assets/services/chatService.js"></script>
    <script>
        // $(document).ready(function() {
            // initNotificationService();
            
            // Add test button
            // const testButton = document.createElement('button');
            // testButton.className = 'btn btn-primary position-fixed';
            // testButton.style.bottom = '20px';
            // testButton.style.right = '20px';
            // testButton.style.zIndex = '1000';
            // testButton.textContent = 'Test Notifications';
            // testButton.onclick = function() {
            //     demoNotifications();
            // };
            // document.body.appendChild(testButton);
            
            // Initialize chat service with admin ID and user type
            // const adminId = localStorage.getItem('userId');
            // if (adminId) {
            //   initChatService(adminId, 'admin');
            // }
        // });
    </script>
</body>

</html>