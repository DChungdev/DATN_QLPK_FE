<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- Favicon icon -->
    <title>Thông tin cá nhân</title>
    <!-- Custom CSS -->
    <link href="../assets/extra-libs/c3/c3.min.css" rel="stylesheet" />
    <link
      href="../assets/libs/chartist/dist/chartist.min.css"
      rel="stylesheet"
    />
    <link
      href="../assets/extra-libs/jvector/jquery-jvectormap-2.0.2.css"
      rel="stylesheet"
    />

    <script src="../assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="../assets/vendor/axios.min.js"></script>
    <script src="../assets/services/axios.js"></script>
    <script src="../assets/services/authService.js"></script>
    <script src="../assets/services/thongTinBacSiDoctor.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link rel="stylesheet" href="../assets/css/content.css" />
    <link rel="stylesheet" href="../assets/css/popup.css" />
    <link
      href="../assets/vendor/fontawesome-free/css/all.min.css"
      rel="stylesheet"
    />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
      <div class="lds-ripple">
        <div class="lds-pos"></div>
        <div class="lds-pos"></div>
      </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div
      id="main-wrapper"
      data-theme="light"
      data-layout="vertical"
      data-navbarbg="skin6"
      data-sidebartype="full"
      data-sidebar-position="fixed"
      data-header-position="fixed"
      data-boxed-layout="full"
    >
      <!-- ============================================================== -->
      <!-- Topbar header - style you can find in pages.scss -->
      <!-- ============================================================== -->
      <div class="m-popup-block" id="success-popup" style="top: 18%; visibility: hidden;">
        <div class="m-popup-item m-popup-success">
          <div class="m-popup-icon m-popup-icon-success"></div>
          <div class="m-popup-text-success">
            <span>Thành công! Thông tin đã được cập nhật.</span>
          </div>
          <div class="m-popup-tool">
            <span class="m-popup-close"></span>
          </div>
        </div>
      </div>
      <div id="error-popup" class="m-popup-block" style="top: 18%; visibility: hidden;">
        <div class="m-popup-item m-popup-error">
          <div class="m-popup-icon m-popup-icon-error"></div>
          <div class="m-popup-text-error" style="width: calc(100% - 80px)">
            <span>Có lỗi xảy ra!</span>
          </div>
          <div class="m-popup-tool">
            <div class="m-popup-close"></div>
          </div>
        </div>
      </div>
      <header class="topbar" data-navbarbg="skin6">
        <nav class="navbar top-navbar navbar-expand-md">
          <div class="navbar-header" data-logobg="skin6">
            <!-- This is for the sidebar toggle which is visible on mobile only -->
            <a
              class="nav-toggler waves-effect waves-light d-block d-md-none"
              href="javascript:void(0)"
              ><i class="ti-menu ti-close"></i
            ></a>
            <!-- ============================================================== -->
            <!-- Logo -->
            <!-- ============================================================== -->
            <div class="navbar-brand" style="display: flex; justify-content: center;">
              <!-- Logo icon -->
              <img src="../assets/img/logo-benh-vien.jpg" alt="homepage" class="dark-logo" width="80px"/>
          </div>
            <!-- ============================================================== -->
            <!-- End Logo -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Toggle which is visible on mobile only -->
            <!-- ============================================================== -->
            <a
              class="topbartoggler d-block d-md-none waves-effect waves-light"
              href="javascript:void(0)"
              data-toggle="collapse"
              data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
              ><i class="ti-more"></i
            ></a>
          </div>
          <!-- ============================================================== -->
          <!-- End Logo -->
          <!-- ============================================================== -->
          <div class="navbar-collapse collapse" id="navbarSupportedContent">
            <!-- ============================================================== -->
            <!-- toggle and nav items -->
            <!-- ============================================================== -->
            <ul class="navbar-nav float-left mr-auto ml-3 pl-1">
              <!-- Notification -->
            </ul>
            <!-- ============================================================== -->
            <!-- Right side toggle and nav items -->
            <!-- ============================================================== -->
            <ul class="navbar-nav float-right">
              <!-- ============================================================== -->
              <!-- User profile and search -->
              <!-- ============================================================== -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="javascript:void(0)"
                  data-bs-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  <img
                    id="avatar"
                    src="../assets/img/users/profile-pic.jpg"
                    alt="user"
                    class="rounded-circle"
                    width="40"
                    style="width: 40px; aspect-ratio: 1 / 1; object-fit: cover;"
                  />
                  <span class="ml-2 d-none d-lg-inline-block"
                    ><span>Hello,</span>
                    <span class="text-dark" id="nameDoctor">Doctor</span>
                  </span>
                </a>
              </li>
              <!-- ============================================================== -->
              <!-- User profile and search -->
              <!-- ============================================================== -->
            </ul>
          </div>
        </nav>
      </header>
      <!-- ============================================================== -->
      <!-- End Topbar header -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
      <!-- Left Sidebar - style you can find in sidebar.scss  -->
      <!-- ============================================================== -->
      <aside class="left-sidebar" data-sidebarbg="skin6">
        <!-- Sidebar scroll-->
        <div class="scroll-sidebar" data-sidebarbg="skin6">
          <!-- Sidebar navigation-->
          <nav class="sidebar-nav">
            <ul id="sidebarnav">
              <li class="sidebar-item">
                <a
                  class="sidebar-link sidebar-link "
                  href="MainDoctor.html"
                  aria-expanded="false"
                  ><i data-feather="home" class="feather-icon"></i
                  ><span class="hide-menu">Trang chủ</span></a
                >
              </li>
              <li class="list-divider"></li>
              <li class="nav-small-cap">
                <span class="hide-menu">Quản lý</span>
              </li>

              <li class="sidebar-item">
                <a class="sidebar-link" href="XemLichKham.html" aria-expanded="false"><i data-feather="user"
                    class="feather-icon"></i><span class="hide-menu">Lịch khám</span></a>
              </li>
              <li class="sidebar-item ">
                <a class="sidebar-link sidebar-link " href="XemBenhNhan.html" aria-expanded="false"><i
                    data-feather="users" class="feather-icon"></i><span class="hide-menu">Bệnh nhân</span></a>
              </li>
              <!-- <li class="sidebar-item ">
                <a class="sidebar-link sidebar-link " href="QLKhamBenh.html" aria-expanded="false"><i data-feather="users"
                    class="feather-icon"></i><span class="hide-menu">Kết quả khám</span></a>
              </li> -->

              <li class="list-divider"></li>
              <li class="nav-small-cap">
                <span class="hide-menu">Người dùng</span>
              </li>
        
              <li class="sidebar-item selected">
                <a
                  class="sidebar-link sidebar-link active"
                  href="ThongTinCaNhanBacSi.html"
                  aria-expanded="false"
                  ><i data-feather="user" class="feather-icon"></i
                  ><span class="hide-menu">Thông tin cá nhân</span></a
                >
              </li>
              <li class="sidebar-item ">
                <a
                  class="sidebar-link"
                  href="../login.html"
                  aria-expanded="false"
                  ><i data-feather="log-out" class="feather-icon"></i
                  ><span class="hide-menu">Logout</span></a
                >
              </li>
            </ul>
          </nav>
          <!-- End Sidebar navigation -->
        </div>
        <!-- End Sidebar scroll-->
      </aside>
      <!-- ============================================================== -->
      <!-- End Left Sidebar - style you can find in sidebar.scss  -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
      <!-- Page wrapper  -->
      <!-- ============================================================== -->
      <div class="page-wrapper">
        <div class="content m-3">
            <div class="card p-3">
                <div class="card-body">
                  <h2>Hồ sơ của tôi</h2>
                  <p>Quản lý thông tin hồ sơ để bảo mật tài khoản</p>
                  <hr style="width: 100%" />
                  <form id="suaThongTin" class="row justify-content-center">
                    <div class="col-lg-9 col-md-12">
                      <table class="table col-lg-9 col-sm-12">
                        <tbody>
                          <tr>
                            <th scope="row" class="col-3">Tên đăng nhập</th>
                            <td>
                              <input
                                id="username"
                                type="text"
                                class="form-control"
                                value=""
                                readonly
                              />
                            </td>
                          </tr>
                          <tr>
                            <th scope="row" class="col-3">Mật khẩu</th>
                            <td>
                              <div class="input-group">
                                <input
                                  id="password"
                                  type="password"
                                  class="form-control"
                                  value="*************"
                                  readonly
                                />
                                <div class="input-group-append">
                                  <button
                                    type="button"
                                    class="btn btn-link"
                                    title="Đổi mật khẩu"
                                  >
                                    <i
                                      class="fa-solid fa-pen-to-square"
                                      data-bs-toggle="modal"
                                      data-bs-target="#changePasswordModal"
                                    ></i>
                                  </button>
                                </div>
                              </div>
                            </td>
                          </tr>
      
                          <tr>
                            <th scope="row">Họ và tên</th>
                            <td>
                              <input
                                id="hoten"
                                type="text"
                                class="form-control"
                                value=""
                              />
                            </td>
                          </tr>
                          
                          <tr>
                            <th scope="row">Ngày sinh</th>
                            <td>
                              <input
                                id="ngaySinh"
                                type="date"
                                class="form-control"
                                value=""
                                readonly
                              />
                              <small class="form-text text-muted">Định dạng: YYYY-MM-DD</small>
                            </td>
                          </tr>
                          
                          <tr>
                            <th scope="row">Giới tính</th>
                            <td>
                              <select id="gioiTinh" class="form-control">
                                <option value="">-- Chọn giới tính --</option>
                                <option value="Nam">Nam</option>
                                <option value="Nữ">Nữ</option>
                              </select>
                            </td>
                          </tr>
      
                          <tr>
                            <th scope="row">Bằng cấp</th>
                            <td>
                              <select name="bangCap" id="bangCap" class="form-control">
                                <option value="">-- Chọn bằng cấp --</option>
                                <option value="0">Giáo sư Y khoa</option>
                                <option value="1">Phó Giáo sư Y khoa</option>
                                <option value="2">Tiến sĩ Y khoa</option>
                                <option value="3">Bác sĩ Chuyên khoa 2</option>
                                <option value="4">Thạc sĩ Y khoa</option>
                                <option value="5">Bác sĩ Chuyên khoa 1</option>
                                <option value="6">Bác sĩ Đa khoa</option>
                              </select>
                            </td>
                          </tr>
                          
                          <tr>
                            <th scope="row">Khoa</th>
                            <td>
                              <select name="khoa" id="khoa" class="form-control">
                                <option value="">Đang tải danh sách khoa...</option>
                              </select>
                              <span id="departmentName" class="form-text text-muted"></span>
                              <small class="form-text text-muted">Chọn khoa mà bạn làm việc</small>
                            </td>
                          </tr>

                          <tr>
                            <th scope="row">Số điện thoại</th>
                            <td>
                              <input
                                id="sdt"
                                type="text"
                                class="form-control"
                                value=""
                                oninput="validatePhone()"
                              />
                            </td>
                          </tr>

                        
                          <tr>
                            <th scope="row">Địa chỉ</th>
                            <td>
                              <input
                                id="diaChi"
                                type="text"
                                class="form-control"
                                value=""
                              />
                            </td>
                          </tr>

                     
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="col-lg-3 col-md-12">
                      <div scope="row">Chọn Ảnh</div>
                      <div class="mb-3 text-center">
                        <img
                          id="previewImage"
                          class="img-thumbnail rounded-circle"
                          src="../assets/img/user.png"
                          alt=""
                          style="width: 200px; height: 200px; object-fit: cover;"
                        />
                      </div>
                      <div>
                        <input
                          id="fileInput"
                          type="file"
                          class="form-control"
                          accept="image/*"
                        />
                        <small class="form-text text-muted"
                          >Dung lượng file tối đa 1 MB. Định dạng: JPEG, PNG</small
                        >
                      </div>
                    </div>
                    <button type="submit" class="btn btn-primary mt-3 col-lg-2 col-sm-3">
                      Lưu thay đổi
                    </button>
                  </form>
                </div>
              </div>
              <!-- Modal Change Password-->
        <div
        class="modal fade"
        id="changePasswordModal"
        tabindex="-1"
        aria-labelledby="changePasswordModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="changePasswordModalLabel">
                Đổi Mật Khẩu
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <form id="changePasswordForm">
                <div class="mb-3">
                  <label for="currentPassword" class="form-label"
                    >Mật khẩu hiện tại</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="currentPassword"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="newPassword" class="form-label"
                    >Mật khẩu mới</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="newPassword"
                    required
                    oninput="validatePassword()"
                  />
                  <span
                    id="pass-msg"
                    class="text-danger"
                    style="font-size: 12px"
                  ></span>
                </div>
                <div class="mb-3">
                  <label for="confirmPassword" class="form-label"
                    >Xác nhận mật khẩu mới</label
                  >
                  <input
                    type="password"
                    class="form-control"
                    id="confirmPassword"
                    required
                    oninput="checkPasswordMatch()"
                  />
                </div>
                <span
                  class="text-danger"
                  id="msg"
                  style="font-size: 12px"
                ></span>
              </form>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Đóng
              </button>
              <button
                type="button"
                class="btn btn-primary"
                id="savePasswordBtn"
              >
                Lưu thay đổi
              </button>
            </div>
          </div>
        </div>
      </div>
        </div>
        <footer class="footer text-center text-muted">
          Designed and Developed by <b class="text-primary">Chung</b>
        </footer>
        <!-- ============================================================== -->
        <!-- End footer -->
        <!-- ============================================================== -->
      </div>
      <!-- ============================================================== -->
      <!-- End Page wrapper  -->
      <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="../assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="../assets/libs/popper.js/dist/umd/popper.min.js"></script>
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css" />
    <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- apps -->
    <script src="../assets/js/app-style-switcher.js"></script>
    <script src="../assets/js/feather.min.js"></script>
    <script src="../assets/libs/perfect-scrollbar/dist/perfect-scrollbar.jquery.min.js"></script>
    <script src="../assets/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="../assets/js/custom.min.js"></script>
    <script>
      // Remove the old getAvata function as it's redundant with the functionality in thongTinBacSiDoctor.js
      // The updateAvatar function in thongTinBacSiDoctor.js already handles this
    </script>
  </body>
</html>
